"use strict";(self.webpackChunkpyodide_sandbox=self.webpackChunkpyodide_sandbox||[]).push([[50],{50:function(e,r,t){t.r(r),t.d(r,{loadPyodide:function(){return Ee}});var n=t(861),a=t(757),o={};function i(e,r,t){r&&(o.print=r),t&&(o.printErr=t),e&&o.preRun.push((function(){o.FS.init(function(e){var r=new TextEncoder,t=new Uint8Array(0),n=-1;function a(){try{if(-1===n){var a=e();if(void 0===a||null===a)return null;if("string"!==typeof a)throw new TypeError("Expected stdin to return string, null, or undefined, got type ".concat(typeof a,"."));a.endsWith("\n")||(a+="\n"),t=r.encode(a),n=0}if(n<t.length){var o=t[n];return n++,o}return n=-1,null}catch(i){throw console.error("Error thrown in stdin:"),console.error(i),i}}return a}(e),null,null)}))}function c(e){o.preRun.push((function(){try{o.FS.mkdirTree(e)}catch(r){console.error("Error occurred while making a home directory '".concat(e,"':")),console.error(r),console.error("Using '".concat("/","' for a home directory instead")),e="/"}o.ENV.HOME=e,o.FS.chdir(e)}))}o.noImageDecoding=!0,o.noAudioDecoding=!0,o.noWasmDecoding=!1,o.preloadedWasm={},o.preRun=[];var s=t(885),u=t(181);function l(e,r){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,u.Z)(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw o}}}}var p,f="undefined"!==typeof process&&process.release&&"node"===process.release.name&&"undefined"===typeof process.browser;function y(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(a.mark((function e(r){var t,n,i,c,s,u,y,d,h,_;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=r,!f){e.next=11;break}return e.next=4,import("fs/promises");case 4:return n=e.sent,e.next=7,n.readFile("".concat(r,"packages.json"));case 7:i=e.sent,t=JSON.parse(i),e.next=17;break;case 11:return e.next=13,fetch("".concat(r,"packages.json"));case 13:return c=e.sent,e.next=16,c.json();case 16:t=e.sent;case 17:if(t.packages){e.next=19;break}throw new Error("Loaded packages.json does not contain the expected key 'packages'.");case 19:for(o.packages=t.packages,o._import_name_to_package_name=new Map,s=0,u=Object.keys(o.packages);s<u.length;s++){y=u[s],d=l(o.packages[y].imports);try{for(d.s();!(h=d.n()).done;)_=h.value,o._import_name_to_package_name.set(_,y)}catch(a){d.e(a)}finally{d.f()}}case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,r){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(a.mark((function e(r,t){var n,o,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=10;break}return e.next=3,import("fs/promises");case 3:return n=e.sent,e.next=6,n.readFile("".concat(r).concat(t));case 6:return o=e.sent,e.abrupt("return",o.buffer);case 10:return e.next=12,fetch("".concat(r).concat(t));case 12:return i=e.sent,e.next=15,i.arrayBuffer();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v,w="default channel",g=/^.*?([^\/]*)\.js$/;function m(e){var r=g.exec(e);if(r)return r[1].toLowerCase()}if(globalThis.document)v=function(){var e=(0,n.Z)(a.mark((function e(r){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,import(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();else if(globalThis.importScripts)v=function(){var e=(0,n.Z)(a.mark((function e(r){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:globalThis.importScripts(r);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();else{if(!f)throw new Error("Cannot determine runtime environment");var b=import("path").then((function(e){return e.default})),x=t.e(359).then(t.t.bind(t,359,19)).then((function(e){return e.default})),k=import("vm").then((function(e){return e.default}));v=function(){var e=(0,n.Z)(a.mark((function e(r){var n,o,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.includes("://")){e.next=16;break}return e.next=3,x;case 3:return n=e.sent,e.next=6,k;case 6:return o=e.sent,e.t0=o,e.next=10,n(r);case 10:return e.next=12,e.sent.text();case 12:e.t1=e.sent,e.t0.runInThisContext.call(e.t0,e.t1),e.next=21;break;case 16:return e.next=18,b;case 18:return i=e.sent,e.next=21,t(166)(i.resolve(r));case 21:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}function P(e,r){if(e=e.toLowerCase(),!r.has(e)&&(r.set(e,w),void 0===F[e])){var t,n=l(o.packages[e].depends);try{for(n.s();!(t=n.n()).done;){P(t.value,r)}}catch(a){n.e(a)}finally{n.f()}}}function j(e,r,t,n){var a,i=new Map,c=l(e);try{for(c.s();!(a=c.n()).done;){var s=a.value,u=m(s);i.has(u)&&i.get(u)!==s?t("Loading same package ".concat(u," from ").concat(s," and ").concat(i.get(u))):void 0===u?(s=s.toLowerCase())in o.packages?P(s,i):t("Skipping unknown package '".concat(s,"'")):i.set(u,s)}}catch(h){c.e(h)}finally{c.f()}if(n){var p,f=new Map,y=l(i);try{for(y.s();!(p=y.n()).done;){var d=p.value[0];o.packages[d].shared_library&&f.set(d,i.get(d))}}catch(h){y.e(h)}finally{y.f()}return f}return i}function $(){var e=new Promise((function(e){o.monitorRunDependencies=function(r){0===r&&e()}}));return o.addRunDependency("dummy"),o.removeRunDependency("dummy"),e}function R(e,r,t){return S.apply(this,arguments)}function S(){return(S=(0,n.Z)(a.mark((function e(r,t,n){var i,c,u,f,y,d,h,_,g,m,b,x,k,P;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=j(r,0,n),o.locateFile_packagesToLoad=i,0!==i.size){e.next=6;break}return e.abrupt("return",Promise.resolve("No new packages to load"));case 6:c=Array.from(i.keys()).join(", "),t("Loading ".concat(c));case 8:u=[],f=l(i),e.prev=10,d=function(){var e=(0,s.Z)(y.value,2),r=e[0],a=e[1],c=F[r];if(void 0!==c)return c===a||a===w?(t("".concat(r," already loaded from ").concat(c)),"continue"):(n("URI mismatch, attempting to load package ".concat(r," from ").concat(a," ")+"while it is already loaded from ".concat(c,". To override a dependency, ")+"load the custom package first."),"continue");var l=o.packages[r]&&o.packages[r].name||r,f=a===w?"".concat(p).concat(l,".js"):a;t("Loading ".concat(r," from ").concat(f)),u.push(v(f).catch((function(e){n("Couldn't load package from URL ".concat(f),e),i.delete(r)})))},f.s();case 13:if((y=f.n()).done){e.next=19;break}if("continue"!==d()){e.next=17;break}return e.abrupt("continue",17);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),f.e(e.t0);case 24:return e.prev=24,f.f(),e.finish(24);case 27:return e.prev=27,e.next=30,Promise.all(u).then($);case 30:return e.prev=30,delete o.monitorRunDependencies,e.finish(30);case 33:h=[],_=l(i);try{for(_.s();!(g=_.n()).done;)m=(0,s.Z)(g.value,2),b=m[0],x=m[1],F[b]=x,h.push(b)}catch(a){_.e(a)}finally{_.f()}h.length>0?(P=h.join(", "),k="Loaded ".concat(P)):k="No packages loaded",o.reportUndefinedSymbols(),t(k),o.importlib.invalidate_caches();case 40:case"end":return e.stop()}}),e,null,[[10,21,24,27],[27,,30,33]])})))).apply(this,arguments)}o.locateFile=function(e){var r=e.replace(/\.data$/,""),t=o.locateFile_packagesToLoad;if(t&&t.has(r)){var n=t.get(r);if(n!=w)return n.replace(/\.js$/,".data")}return p+e};var Z=Promise.resolve();function O(){return T.apply(this,arguments)}function T(){return(T=(0,n.Z)(a.mark((function e(){var r,t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z,Z=new Promise((function(e){return t=e})),e.next=4,r;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A,E,I,F={};function L(){A||function(){for(var e in o.preloadPlugins)if(o.preloadPlugins[e].canHandle("test.so")){E=o.preloadPlugins[e],I=e;break}A={canHandle:E.canHandle,handle:function(e,r,t,i){E.handle(e,r,t,i),E.asyncWasmLoadPromise=(0,n.Z)(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.asyncWasmLoadPromise;case 2:o.loadDynamicLibrary(r,{global:!0,nodelete:!0});case 3:case"end":return e.stop()}}),e)})))()}}}(),o.preloadPlugins[I]=A}function U(){o.preloadPlugins[I]=E}function D(e,r,t){return C.apply(this,arguments)}function C(){return(C=(0,n.Z)(a.mark((function e(r,t,n){var i,c,s,u,p,f,y;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isPyProxy(r)){try{i=r.toJs()}finally{r.destroy()}r=i}Array.isArray(r)||(r=[r]),c=[];try{s=j(r,0,n,!0),u=l(s);try{for(u.s();!(p=u.n()).done;)f=p.value,c.push(f[0])}catch(a){u.e(a)}finally{u.f()}}catch(d){}return e.next=6,O();case 6:return y=e.sent,e.prev=7,L(),e.next=11,R(c,t||console.log,n||console.error);case 11:return U(),e.next=14,R(r,t||console.log,n||console.error);case 14:return e.prev=14,U(),y(),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[7,,14,18]])})))).apply(this,arguments)}var z=t(144),M=t(671),B=t(907);function W(e){return function(e){if(Array.isArray(e))return(0,B.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,u.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J=a.mark(ne);function K(e){return!!e&&void 0!==e.$$&&"PyProxy"===e.$$.type}o.isPyProxy=K,globalThis.FinalizationRegistry?o.finalizationRegistry=new FinalizationRegistry((function(e){var r=(0,s.Z)(e,2),t=r[0],n=r[1];n.leaked=!0,Q(n);try{o._Py_DecRef(t)}catch(a){o.fatal_error(a)}})):o.finalizationRegistry={register:function(){},unregister:function(){}};var H,G,N=new Map;function V(e){var r=e.$$.ptr;if(null===r)throw new Error(e.$$.destroyed_msg||"Object has already been destroyed");return r}o.pyproxy_alloc_map=N,o.enable_pyproxy_allocation_tracing=function(){H=function(e){N.set(e,Error().stack)},G=function(e){N.delete(e)}},o.disable_pyproxy_allocation_tracing=function(){H=function(e){},G=function(e){}},o.disable_pyproxy_allocation_tracing(),o.pyproxy_new=function(e,r){var t,n=o._pyproxy_getflags(e),a=o.getPyProxyClass(n);(256&n?(delete(t=Reflect.construct(Function,[],a)).length,delete t.name,t.prototype=void 0):t=Object.create(a.prototype),r)||(r={cacheId:o.hiwire.new_value(new Map),refcnt:0});r.refcnt++,Object.defineProperty(t,"$$",{value:{ptr:e,type:"PyProxy",cache:r}}),o._Py_IncRef(e);var i=new Proxy(t,ie);return H(i),o.finalizationRegistry.register(i,[e,r],i),i};var q=new Map;o.getPyProxyClass=function(e){var r=q.get(e);if(r)return r;for(var t={},n=0,a=[[1,Y],[2,ee],[4,re],[8,te],[16,ae],[32,oe],[64,ce],[128,le],[256,se]];n<a.length;n++){var o=(0,s.Z)(a[n],2),i=o[0],c=o[1];e&i&&Object.assign(t,Object.getOwnPropertyDescriptors(c.prototype))}t.constructor=Object.getOwnPropertyDescriptor(X.prototype,"constructor"),Object.assign(t,Object.getOwnPropertyDescriptors({$$flags:e}));var u=Object.create(X.prototype,t);function l(){}return l.prototype=u,q.set(e,l),l},o.PyProxy_getPtr=V;function Q(e){if(e&&(e.refcnt--,0===e.refcnt)){var r,t=l(o.hiwire.pop_value(e.cacheId).values());try{for(t.s();!(r=t.n()).done;){var n=r.value,a=o.hiwire.pop_value(n);e.leaked||o.pyproxy_destroy(a,"This borrowed attribute proxy was automatically destroyed in the process of destroying the proxy it was borrowed from. Try using the 'copy' method.")}}catch(i){t.e(i)}finally{t.f()}}}o.pyproxy_destroy=function(e,r){if(null!==e.$$.ptr){var t=V(e);o.finalizationRegistry.unregister(e),e.$$.ptr=null,e.$$.destroyed_msg=r,Q(e.$$.cache);try{o._Py_DecRef(t),G(e)}catch(n){o.fatal_error(n)}}},o.callPyObjectKwargs=function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var a=t.pop(),i=t.length,c=Object.keys(a),s=Object.values(a),u=c.length;t.push.apply(t,W(s));var l,p=o.hiwire.new_value(t),f=o.hiwire.new_value(c);try{l=o.__pyproxy_apply(e,p,i,f,u)}catch(y){o.fatal_error(y)}finally{o.hiwire.decref(p),o.hiwire.decref(f)}return 0===l&&o._pythonexc2js(),o.hiwire.pop_value(l)},o.callPyObject=function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return o.callPyObjectKwargs.apply(o,[e].concat(t,[{}]))};var X=function(e){function r(){throw(0,M.Z)(this,r),new TypeError("PyProxy is not a constructor")}return(0,z.Z)(r,[{key:e,get:function(){return"PyProxy"}},{key:"type",get:function(){var e=V(this);return o.hiwire.pop_value(o.__pyproxy_type(e))}},{key:"toString",value:function(){var e,r=V(this);try{e=o.__pyproxy_repr(r)}catch(t){o.fatal_error(t)}return 0===e&&o._pythonexc2js(),o.hiwire.pop_value(e)}},{key:"destroy",value:function(e){o.pyproxy_destroy(this,e)}},{key:"copy",value:function(){var e=V(this);return o.pyproxy_new(e,this.$$.cache)}},{key:"toJs",value:function(){var e,r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.depth,a=void 0===n?-1:n,i=t.pyproxies,c=t.create_pyproxies,s=void 0===c||c,u=t.dict_converter,l=V(this),p=0;r=s?i?o.hiwire.new_value(i):o.hiwire.new_value([]):0,u&&(p=o.hiwire.new_value(u));try{e=o._python2js_custom_dict_converter(l,a,r,p)}catch(f){o.fatal_error(f)}finally{o.hiwire.decref(r),o.hiwire.decref(p)}return 0===e&&o._pythonexc2js(),o.hiwire.pop_value(e)}},{key:"supportsLength",value:function(){return!!(1&this.$$flags)}},{key:"supportsGet",value:function(){return!!(2&this.$$flags)}},{key:"supportsSet",value:function(){return!!(4&this.$$flags)}},{key:"supportsHas",value:function(){return!!(8&this.$$flags)}},{key:"isIterable",value:function(){return!!(48&this.$$flags)}},{key:"isIterator",value:function(){return!!(32&this.$$flags)}},{key:"isAwaitable",value:function(){return!!(64&this.$$flags)}},{key:"isBuffer",value:function(){return!!(128&this.$$flags)}},{key:"isCallable",value:function(){return!!(256&this.$$flags)}}]),r}(Symbol.toStringTag),Y=function(){function e(){(0,M.Z)(this,e)}return(0,z.Z)(e,[{key:"length",get:function(){var e,r=V(this);try{e=o._PyObject_Size(r)}catch(t){o.fatal_error(t)}return-1===e&&o._pythonexc2js(),e}}]),e}(),ee=function(){function e(){(0,M.Z)(this,e)}return(0,z.Z)(e,[{key:"get",value:function(e){var r,t=V(this),n=o.hiwire.new_value(e);try{r=o.__pyproxy_getitem(t,n)}catch(a){o.fatal_error(a)}finally{o.hiwire.decref(n)}if(0===r){if(!o._PyErr_Occurred())return;o._pythonexc2js()}return o.hiwire.pop_value(r)}}]),e}(),re=function(){function e(){(0,M.Z)(this,e)}return(0,z.Z)(e,[{key:"set",value:function(e,r){var t,n=V(this),a=o.hiwire.new_value(e),i=o.hiwire.new_value(r);try{t=o.__pyproxy_setitem(n,a,i)}catch(c){o.fatal_error(c)}finally{o.hiwire.decref(a),o.hiwire.decref(i)}-1===t&&o._pythonexc2js()}},{key:"delete",value:function(e){var r,t=V(this),n=o.hiwire.new_value(e);try{r=o.__pyproxy_delitem(t,n)}catch(a){o.fatal_error(a)}finally{o.hiwire.decref(n)}-1===r&&o._pythonexc2js()}}]),e}(),te=function(){function e(){(0,M.Z)(this,e)}return(0,z.Z)(e,[{key:"has",value:function(e){var r,t=V(this),n=o.hiwire.new_value(e);try{r=o.__pyproxy_contains(t,n)}catch(a){o.fatal_error(a)}finally{o.hiwire.decref(n)}return-1===r&&o._pythonexc2js(),1===r}}]),e}();function ne(e,r){var t;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(!(t=o.__pyproxy_iter_next(e))){n.next=6;break}return n.next=4,o.hiwire.pop_value(t);case 4:n.next=1;break;case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),o.fatal_error(n.t0);case 11:return n.prev=11,o.finalizationRegistry.unregister(r),o._Py_DecRef(e),n.finish(11);case 15:o._PyErr_Occurred()&&o._pythonexc2js();case 16:case"end":return n.stop()}}),J,null,[[0,8,11,15]])}var ae=function(e){function r(){(0,M.Z)(this,r)}return(0,z.Z)(r,[{key:e,value:function(){var e,r=V(this),t={};try{e=o._PyObject_GetIter(r)}catch(a){o.fatal_error(a)}0===e&&o._pythonexc2js();var n=ne(e,t);return o.finalizationRegistry.register(n,[e,void 0],t),n}}]),r}(Symbol.iterator),oe=function(e){function r(){(0,M.Z)(this,r)}return(0,z.Z)(r,[{key:e,value:function(){return this}},{key:"next",value:function(){var e,r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=o.hiwire.new_value(t);try{(r=0===(e=o.__pyproxyGen_Send(V(this),n)))&&(e=o.__pyproxyGen_FetchStopIterationValue())}catch(i){o.fatal_error(i)}finally{o.hiwire.decref(n)}r&&0===e&&o._pythonexc2js();var a=o.hiwire.pop_value(e);return{done:r,value:a}}}]),r}(Symbol.iterator);var ie={isExtensible:function(){return!0},has:function(e,r){return!!Reflect.has(e,r)||"symbol"!==typeof r&&(r.startsWith("$")&&(r=r.slice(1)),function(e,r){var t,n=V(e),a=o.hiwire.new_value(r);try{t=o.__pyproxy_hasattr(n,a)}catch(i){o.fatal_error(i)}finally{o.hiwire.decref(a)}return-1===t&&o._pythonexc2js(),0!==t}(e,r))},get:function(e,r){if(r in e||"symbol"===typeof r)return Reflect.get(e,r);r.startsWith("$")&&(r=r.slice(1));var t=function(e,r){var t,n=V(e),a=o.hiwire.new_value(r),i=e.$$.cache.cacheId;try{t=o.__pyproxy_getattr(n,a,i)}catch(c){o.fatal_error(c)}finally{o.hiwire.decref(a)}return 0===t&&o._PyErr_Occurred()&&o._pythonexc2js(),t}(e,r);return 0!==t?o.hiwire.pop_value(t):void 0},set:function(e,r,t){var n=Object.getOwnPropertyDescriptor(e,r);if(n&&!n.writable)throw new TypeError("Cannot set read only field '".concat(r,"'"));return"symbol"===typeof r?Reflect.set(e,r,t):(r.startsWith("$")&&(r=r.slice(1)),function(e,r,t){var n,a=V(e),i=o.hiwire.new_value(r),c=o.hiwire.new_value(t);try{n=o.__pyproxy_setattr(a,i,c)}catch(s){o.fatal_error(s)}finally{o.hiwire.decref(i),o.hiwire.decref(c)}-1===n&&o._pythonexc2js()}(e,r,t),!0)},deleteProperty:function(e,r){var t=Object.getOwnPropertyDescriptor(e,r);if(t&&!t.writable)throw new TypeError("Cannot delete read only field '".concat(r,"'"));return"symbol"===typeof r?Reflect.deleteProperty(e,r):(r.startsWith("$")&&(r=r.slice(1)),function(e,r){var t,n=V(e),a=o.hiwire.new_value(r);try{t=o.__pyproxy_delattr(n,a)}catch(i){o.fatal_error(i)}finally{o.hiwire.decref(a)}-1===t&&o._pythonexc2js()}(e,r),!t||t.configurable)},ownKeys:function(e){var r,t=V(e);try{r=o.__pyproxy_ownKeys(t)}catch(a){o.fatal_error(a)}0===r&&o._pythonexc2js();var n=o.hiwire.pop_value(r);return n.push.apply(n,W(Reflect.ownKeys(e))),n},apply:function(e,r,t){return e.apply(r,t)}},ce=function(){function e(){(0,M.Z)(this,e)}return(0,z.Z)(e,[{key:"_ensure_future",value:function(){if(this.$$.promise)return this.$$.promise;var e,r,t,n=V(this),a=new Promise((function(t,n){e=t,r=n})),i=o.hiwire.new_value(e),c=o.hiwire.new_value(r);try{t=o.__pyproxy_ensure_future(n,i,c)}catch(s){o.fatal_error(s)}finally{o.hiwire.decref(c),o.hiwire.decref(i)}return-1===t&&o._pythonexc2js(),this.$$.promise=a,this.destroy(),a}},{key:"then",value:function(e,r){return this._ensure_future().then(e,r)}},{key:"catch",value:function(e){return this._ensure_future().catch(e)}},{key:"finally",value:function(e){return this._ensure_future().finally(e)}}]),e}(),se=function(){function e(){(0,M.Z)(this,e)}return(0,z.Z)(e,[{key:"apply",value:function(e,r){return o.callPyObject.apply(o,[V(this)].concat(W(r)))}},{key:"call",value:function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return o.callPyObject.apply(o,[V(this)].concat(t))}},{key:"callKwargs",value:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(0===r.length)throw new TypeError("callKwargs requires at least one argument (the key word argument object)");var n=r[r.length-1];if(void 0!==n.constructor&&"Object"!==n.constructor.name)throw new TypeError("kwargs argument is not an object");return o.callPyObjectKwargs.apply(o,[V(this)].concat(r))}}]),e}();se.prototype.prototype=Function.prototype;var ue=new Map([["i8",Int8Array],["u8",Uint8Array],["u8clamped",Uint8ClampedArray],["i16",Int16Array],["u16",Uint16Array],["i32",Int32Array],["u32",Uint32Array],["i32",Int32Array],["u32",Uint32Array],["i64",globalThis.BigInt64Array],["u64",globalThis.BigUint64Array],["f32",Float32Array],["f64",Float64Array],["dataview",DataView]]),le=function(){function e(){(0,M.Z)(this,e)}return(0,z.Z)(e,[{key:"getBuffer",value:function(e){var r=void 0;if(e&&void 0===(r=ue.get(e)))throw new Error("Unknown type ".concat(e));var t,n=o.HEAPU32,a=o.stackSave(),i=o.stackAlloc(n[0+(o._buffer_struct_size>>2)]),c=V(this);try{t=o.__pyproxy_get_buffer(i,c)}catch(E){o.fatal_error(E)}-1===t&&o._pythonexc2js();var u=n[0+(i>>2)],p=n[1+(i>>2)],f=n[2+(i>>2)],y=!!n[3+(i>>2)],d=n[4+(i>>2)],h=n[5+(i>>2)],_=o.hiwire.pop_value(n[6+(i>>2)]),v=o.hiwire.pop_value(n[7+(i>>2)]),w=n[8+(i>>2)],g=!!n[9+(i>>2)],m=!!n[10+(i>>2)],b=o.UTF8ToString(d);o.stackRestore(a);var x=!1;try{var k=!1;if(void 0===r){var P=o.processBufferFormatString(b," In this case, you can pass an explicit type argument."),j=(0,s.Z)(P,2);r=j[0],k=j[1]}var $=parseInt(r.name.replace(/[^0-9]/g,""))/8||1;if(k&&$>1)throw new Error("Javascript has no native support for big endian buffers. In this case, you can pass an explicit type argument. For instance, `getBuffer('dataview')` will return a `DataView`which has native support for reading big endian data. Alternatively, toJs will automatically convert the buffer to little endian.");var R=f-p;if(0!==R&&(u%$!==0||p%$!==0||f%$!==0))throw new Error("Buffer does not have valid alignment for a ".concat(r.name));var S,Z=R/$,O=(u-p)/$;S=0===R?new r:new r(n.buffer,p,Z);var T,A=l(v.keys());try{for(A.s();!(T=A.n()).done;){v[T.value]/=$}}catch(I){A.e(I)}finally{A.f()}return x=!0,Object.create(pe.prototype,Object.getOwnPropertyDescriptors({offset:O,readonly:y,format:b,itemsize:h,ndim:_.length,nbytes:R,shape:_,strides:v,data:S,c_contiguous:g,f_contiguous:m,_view_ptr:w,_released:!1}))}finally{if(!x)try{o._PyBuffer_Release(w),o._PyMem_Free(w)}catch(E){o.fatal_error(E)}}}}]),e}(),pe=function(){function e(){throw(0,M.Z)(this,e),this.offset,this.readonly,this.format,this.itemsize,this.ndim,this.nbytes,this.shape,this.strides,this.data,this.c_contiguous,this.f_contiguous,new TypeError("PyBuffer is not a constructor")}return(0,z.Z)(e,[{key:"release",value:function(){if(!this._released){try{o._PyBuffer_Release(this._view_ptr),o._PyMem_Free(this._view_ptr)}catch(e){o.fatal_error(e)}this._released=!0,this.data=null}}}]),e}(),fe={},ye={},de=(0,z.Z)((function e(){(0,M.Z)(this,e),this.message}));function he(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.globals;return o.pyodide_py.eval_code(e,r)}function _e(e,r,t){return ve.apply(this,arguments)}function ve(){return(ve=(0,n.Z)(a.mark((function e(r,t,n){var i,c,s,u,p,f,y;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=o.pyodide_py.find_imports(r);try{c=i.toJs()}finally{i.destroy()}if(0!==c.length){e.next=4;break}return e.abrupt("return");case 4:s=o._import_name_to_package_name,u=new Set,p=l(c);try{for(p.s();!(f=p.n()).done;)y=f.value,s.has(y)&&u.add(s.get(y))}catch(a){p.e(a)}finally{p.f()}if(!u.size){e.next=11;break}return e.next=11,D(Array.from(u),t,n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return ge.apply(this,arguments)}function ge(){return ge=(0,n.Z)(a.mark((function e(r){var t,n=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:o.globals,e.next=3,o.pyodide_py.eval_code_async(r,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function me(e,r){o.pyodide_py.register_js_module(e,r)}function be(e){o._Comlink=e}function xe(e){o.pyodide_py.unregister_js_module(e)}function ke(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.depth,n=void 0===t?-1:t;switch(typeof e){case"string":case"number":case"boolean":case"bigint":case"undefined":return e}if(!e||o.isPyProxy(e))return e;var a=0,i=0,c=0;try{a=o.hiwire.new_value(e);try{i=o.js2python_convert(a,new Map,n)}catch(s){throw s instanceof o._PropagatePythonError&&o._pythonexc2js(),s}if(o._JsProxy_Check(i))return e;0===(c=o._python2js(i))&&o._pythonexc2js()}finally{o.hiwire.decref(a),o._Py_DecRef(i)}return o.hiwire.pop_value(c)}function Pe(e){return o.importlib.import_module(e)}function je(e,r,t){o._util_module||(o._util_module=Pe("pyodide._util")),o._util_module.unpack_buffer_archive.callKwargs(e,{format:r,extract_dir:t})}function $e(e){o.interrupt_buffer=e,o._set_pyodide_callback(!!e)}function Re(){2===o.interrupt_buffer[0]&&(o.interrupt_buffer[0]=0,o._PyErr_SetInterrupt(),o.runPython(""))}function Se(){var e=o.FS,r={globals:ye,FS:e,pyodide_py:fe,version:"",loadPackage:D,loadPackagesFromImports:_e,loadedPackages:F,isPyProxy:K,runPython:he,runPythonAsync:we,registerJsModule:me,unregisterJsModule:xe,setInterruptBuffer:$e,checkInterrupt:Re,toPy:ke,pyimport:Pe,unpackArchive:je,registerComlink:be,PythonError:de,PyBuffer:pe};return r._module=o,o.public_api=r,r}o.runPython=he,o.runPythonAsync=we,o.saveState=function(){return o.pyodide_py._state.save_state()},o.restoreState=function(e){return o.pyodide_py._state.restore_state(e)},o.dump_traceback=function(){o.__Py_DumpTraceback(1,o._PyGILState_GetThisThreadState())};var Ze,Oe=!1;function Te(e){var r="/pyodide_py.tar",t=o.FS.open(r,"w");o.FS.write(t,new Uint8Array(e),0,e.byteLength,void 0,!0),o.FS.close(t);var n=o.stringToNewUTF8('\nimport shutil\nshutil.unpack_archive("/pyodide_py.tar", "/lib/python3.9/site-packages/")\ndel shutil\nimport importlib\nimportlib.invalidate_caches()\ndel importlib\n    ');if(o._PyRun_SimpleString(n))throw new Error("OOPS!");o._free(n),o.FS.unlink(r)}function Ae(e){Ze=o._pyodide._base.eval_code("{}"),o.importlib=o.runPythonInternal("import importlib; importlib");var r=o.importlib.import_module;o.sys=r("sys"),o.sys.path.insert(0,e.homedir);var t,n=o.runPythonInternal("import __main__; __main__.__dict__"),a=o.runPythonInternal("import builtins; builtins.__dict__");o.globals=(t=a,new Proxy(n,{get:function(e,r){return"get"===r?function(r){var n=e.get(r);return void 0===n&&(n=t.get(r)),n}:"has"===r?function(r){return e.has(r)||t.has(r)}:Reflect.get(e,r)}}));var i=o._pyodide._importhook;i.register_js_finder(),i.register_js_module("js",e.jsglobals);var c=Se();return i.register_js_module("pyodide_js",c),o.pyodide_py=r("pyodide"),o.version=o.pyodide_py.__version__,c.pyodide_py=o.pyodide_py,c.version=o.version,c.globals=o.globals,c}function Ee(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,n.Z)(a.mark((function e(r){var t,n,s,u,l,p;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!globalThis.__pyodide_module){e.next=2;break}throw new Error("Pyodide is already loading.");case 2:if(r.indexURL){e.next=4;break}throw new Error("Please provide indexURL parameter to loadPyodide");case 4:return Ee.inProgress=!0,globalThis.__pyodide_module=o,t={fullStdLib:!0,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,homedir:"/home/pyodide"},(r=Object.assign(t,r)).indexURL.endsWith("/")||(r.indexURL+="/"),o.indexURL=r.indexURL,n=y(r.indexURL),s=h(r.indexURL,"pyodide_py.tar"),i(r.stdin,r.stdout,r.stderr),c(r.homedir),u=new Promise((function(e){return o.postRun=e})),l="".concat(r.indexURL,"pyodide.asm.js"),e.next=18,v(l);case 18:return e.next=20,_createPyodideModule(o);case 20:return e.next=22,u;case 22:return e.next=24,s;case 24:return Te(e.sent),o._pyodide_init(),p=Ae(r),e.next=30,n;case 30:if(!r.fullStdLib){e.next=33;break}return e.next=33,D(["distutils"]);case 33:return p.runPython("print('Python initialization complete')"),e.abrupt("return",p);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.fatal_error=function(e){if(!e.pyodide_fatal_error){if(Oe)return console.error("Recursive call to fatal_error. Inner error was:"),void console.error(e);e.pyodide_fatal_error=!0,Oe=!0,console.error("Pyodide has suffered a fatal error. Please report this to the Pyodide maintainers."),console.error("The cause of the fatal error was:"),o.inTestHoist?(console.error(e.toString()),console.error(e.stack)):console.error(e);try{o.dump_traceback();for(var r=0,t=Object.keys(o.public_api);r<t.length;r++){var n=t[r];n.startsWith("_")||"version"===n||Object.defineProperty(o.public_api,n,{enumerable:!0,configurable:!0,get:function(){throw new Error("Pyodide already fatally failed and can no longer be used.")}})}o.on_fatal&&o.on_fatal(e)}catch(a){console.error("Another error occurred while handling the fatal error:"),console.error(a)}throw e}},o.runPythonInternal=function(e){return o._pyodide._base.eval_code(e,Ze)},globalThis.loadPyodide=Ee}}]);
//# sourceMappingURL=50.2bf0d098.chunk.js.map